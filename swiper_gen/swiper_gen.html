<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/swiper/css/swiper.css">
  <link rel="stylesheet" href="https://unpkg.com/swiper/css/swiper.min.css">
  <script src="https://unpkg.com/swiper/js/swiper.js"></script>
  <script src="https://unpkg.com/swiper/js/swiper.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="swipegen.css">
  <title>swiper gen test</title>
</head>

<body>
  <!-- Slider main container -->
  <div class="swiper-container">
    <!-- Additional required wrapper -->
    <div class="swiper-wrapper">


    </div>
    <!-- If we need pagination -->
    <div class="swiper-pagination"></div>

    <!-- If we need navigation buttons -->
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>

    <!-- If we need scrollbar -->
    <div class="swiper-scrollbar"></div>
  </div>

  <button id="slide">Add a slide</button>



  <script>

    // gets lon lat
    function cityLocation(cityName) {
      var locationAPIKey = "&appid=0888bb26c1d027c60cb2417244156801";
      var locationURL = "https://api.openweathermap.org/data/2.5/weather?q=" + cityName + locationAPIKey;
      $.ajax({
        url: locationURL,
        method: "GET"
      }).then(function (response) {
        
        var long = response.coord.lon;
        var lat = response.coord.lat;
        getTrails(lat,long)
      })
    }
    var Cards = []
    // get Trails
    function getTrails(a, b) {
      $.ajax({
        url: "https://www.hikingproject.com/data/get-trails?lat=" + a + "&lon=" + b + "&maxDistance=10&key=200758271-3165bfaa7d6b0bedfbf0fcdfbad4ec16",
        method: 'GET'
      }).then(function (response) {
        // creates trail slide
        for (var i = 0; i < response.trails.length; i++) {
          $('.swiper-wrapper').append('<div class=swiper-slide id=slide'+i+'></div>')
          $('#slide'+i).addClass()
          // if(response.trails[i].imgSmallMed === ''){
          //   $('#slide'+i).html('<img src=https://via.placeholder.com/150 alt = no image>')
          // }
          // else{
          $('#slide'+i).html('<img>').addClass('trail-img').attr('src',response.trails[0].imgSmallMed).attr('alt', 'trail')
          
          // }
            // response.trails[i].summary
          }
        })
      }
      
      
      $('#slide').click(function () {
        cityLocation('Charlotte')
        
        var mySwiper = new Swiper('.swiper-container', {

          loop: true,
          pagination: {
            el: '.swiper-pagination',
          },

          // Navigation arrows
          navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
          },

          // And if we need scrollbar
          scrollbar: {
            el: '.swiper-scrollbar',
          },
        })
      })
  </script>
</body>

</html>